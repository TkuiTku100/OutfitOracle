<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Outfit Oracle</title>
    <link rel="icon" href="logo.ico" type="image/x-icon">
</head>
<style>
    /* Style for the buttons */
    button {
        background-color: #bca7ee; /* Green */
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        cursor: pointer;
        border-radius: 10px;
        transition-duration: 0.4s;
    }
    /* Change the color of the button on hover */
    button:hover {
        background-color: #7359b2;
    }
    #Home {
        position: absolute;
        left: 50px; /* Adjust the left distance */
        bottom: 30px; /* Adjust the bottom distance */
    }
</style>
<body style="background-color:#aad7f6; text-align:center; font-family:helvetica; margin-top:10px">
<H1>
    <img src="logo.png" alt="outfit oracle logo" title="logo" style="height:180px; width:200px; float: left; border: none;">
    <img src="logo.png" alt="outfit oracle logo" title="logo" style="height:180px; width:200px; float: right; border: none;">
    <span class="big" style="font-size: 72px; color:#ffffff; text-align:center;text-shadow: 3px 3px #3e7efc ; position: relative; top: 25px;">Outfit Oracle</span> <br>
    <span class="small" style="font-size: 42px; color:#ffffff; -webkit-text-stroke-width: 1.2px; -webkit-text-stroke-color: #7359b2; position: relative; top: 15px">Welcome to your wardrobe</span>
</H1>
<br>
<br>
<button id="Home"> Back Home</button>

<div class="wardrobeForm">
    <form id="wardrobeForm" style="align-content: center">

        <label for="category">Category:</label>
        <select id="category" name="category" placeholder="all" required>
            <option value="">Select Category</option>
            <option value="overtop">Over Top</option>
            <option value="top">Top</option>
            <option value="bottom">Bottom</option>
            <option value="all">all</option>
        </select><br>

        <label for="color">Color:</label>
        <select id="color" name="color" placeholder="all" required>
            <option value="">Select Color</option>
            <option value="red">red</option>
            <option value="orange">orange</option>
            <option value="yellow">yellow</option>
            <option value="green">green</option>
            <option value="blue">blue</option>
            <option value="purple">purple</option>
            <option value="black">black</option>
            <option value="white">white</option>
            <option value="gray">gray</option>
            <option value="brown">brown</option>
            <option value="all">all</option>
        </select><br>

        <button id="filterButton" type="button">Filter</button>
    </form>
</div>

<div id="wardrobeImageContainer">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w1" alt="item1" style="height: 300px;">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w2" alt="item2" style="height: 300px;">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w2" alt="item3" style="height: 300px;">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w4" alt="item4" style="height: 300px;">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w5" alt="item5" style="height: 300px;">
    <img src="http://localhost:5001/uploads/1711917857463.png" id="w6" alt="item" style="height: 300px;"><br>
</div>

<button id="AddClothingItems">Add clothing items</button>


<!--<script>-->
<!--    function setBackgroundImage() {-->
<!--// Get the weather condition from localStorage (set by index.html)-->
<!--        const weatherCondition = localStorage.getItem('weatherCondition');-->
<!--        console.log('Weather condition:', localStorage.getItem('weatherCondition'));-->

<!--// Set background image based on weather condition-->
<!--        const body = document.body;-->
<!--        if (weatherCondition === 'sunny') {-->
<!--            body.style.backgroundImage = 'url("sunny.jpg")';-->
<!--        } else if (weatherCondition === 'cloudy') {-->
<!--            body.style.backgroundImage = 'url("cloudy.jpg")';-->
<!--        } else if (weatherCondition === 'rainy') {-->
<!--            body.style.backgroundImage = 'url("rainy.jpg")';-->
<!--        }-->
<!--        body.style.backgroundSize = 'cover';-->
<!--    }-->

<!--    // Event listener for the "Add Clothing Items" button-->
<!--    document.getElementById('AddClothingItems').addEventListener('click', function() {-->
<!--        // Redirect to add_clothing_items.html-->
<!--        window.location.href = 'add_clothing_items.html';-->
<!--    });-->
<!--    document.getElementById('Home').addEventListener('click', function() {-->
<!--        // Redirect to add_clothing_items.html-->
<!--        window.location.href = 'home.html';-->
<!--    });-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        const username = localStorage.getItem('username');-->
<!--        if(username) {-->
<!--        } else {-->
<!--            // Redirect back to welcome page if username is not set-->
<!--            window.location.href = 'welcome.html';-->
<!--        }-->
<!--    });-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        document.getElementById('filterButton').addEventListener('click', wardrobe);-->
<!--    });-->
<!--    document.addEventListener('DOMContentLoaded', () => {-->
<!--        // Function to fetch and update a specific item-->
<!--        function wardrobe() {-->
<!--            // Prevent default form submission if needed-->
<!--            // e.preventDefault(); // Uncomment if you use 'e' as an event parameter-->
<!--            console.log('wardrobe function is called');-->
<!--            // Get category and color from the form-->
<!--            const category = document.getElementById('category').value;-->
<!--            const color = document.getElementById('color').value;-->

<!--            // Send category and color to the backend and update images-->
<!--            fetch(`http://localhost:5000/wardrobe-select?category=${category}&color=${color}`)-->
<!--                .then(response => response.json())-->
<!--                .then(data => {-->
<!--                    // Assuming 'data' is an array of image paths-->
<!--                    const container = document.getElementById('wardrobeImageContainer');-->
<!--                    // Clear existing content-->
<!--                    container.innerHTML = '';-->

<!--                    // Iterate over each image path-->
<!--                    data.forEach(imagePath => {-->
<!--                        const img = document.createElement('img');-->
<!--                        img.src = `/uploads/${imagePath}`; // Adjust according to how your paths are returned-->
<!--                        img.alt = "Wardrobe Item";-->
<!--                        img.style.height = '300px'; // Or any other styles as needed-->
<!--                        container.appendChild(img); // Add the image to the container-->
<!--                    });-->
<!--                })-->
<!--                .catch(error => console.error('Error loading images:', error));-->
<!--        }-->

<!--    });-->
<!--    setBackgroundImage(); // Call the function to set background image-->
<!--</script>-->

<script>
    // Function to set the background image based on weather condition
    function setBackgroundImage() {
        const weatherCondition = localStorage.getItem('weatherCondition');
        console.log('Weather condition:', weatherCondition);
        const body = document.body;
        if (weatherCondition === 'sunny') {
            body.style.backgroundImage = 'url("sunny.jpg")';
        } else if (weatherCondition === 'cloudy') {
            body.style.backgroundImage = 'url("cloudy.jpg")';
        } else if (weatherCondition === 'rainy') {
            body.style.backgroundImage = 'url("rainy.jpg")';
        }
        body.style.backgroundSize = 'cover';
    }

    // Function to fetch and update wardrobe items
    function wardrobe() {
        const category = document.getElementById('category').value;
        const color = document.getElementById('color').value;

        fetch(`http://localhost:5001/wardrobe-select?category=${category}&color=${color}&user=${localStorage.getItem('username')}`)
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('wardrobeImageContainer');
                container.innerHTML = ''; // Clear existing content
                data.forEach(imagePath => {
                    const img = document.createElement('img');
                    img.src = `http://localhost:5001/uploads/${imagePath}`;
                    img.alt = "Wardrobe Item";
                    img.style.height = '300px';
                    container.appendChild(img);
                });
            })
            .catch(error => console.error('Error loading images:', error));
    }


    // Event listeners
    document.addEventListener('DOMContentLoaded', () => {
        setBackgroundImage(); // Set the background image
        document.getElementById('filterButton').addEventListener('click', wardrobe); // Attach event listener to the filter button

        const username = localStorage.getItem('username');
        if (!username) {
            window.location.href = 'welcome.html'; // Redirect if username is not set
        }

        document.getElementById('AddClothingItems').addEventListener('click', () => {
            window.location.href = 'add_clothing_items.html';
        });

        document.getElementById('Home').addEventListener('click', () => {
            window.location.href = 'home.html';
        });
    });
</script>

</body>
</html>
